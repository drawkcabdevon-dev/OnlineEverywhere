@tailwind base;
@tailwind components;
@tailwind utilities;

@layer utilities {
    .text-balance {
        text-wrap: balance;
    }

    @layer base {
        body {
            @apply bg-background text-navy-deep antialiased overflow-x-hidden;
        }
    }

    /* Material Symbols */
    .material-symbols-outlined {
        font-variation-settings: 'FILL' 0, 'wght' 400, 'GRAD' 0, 'opsz' 24;
    }

    /* Typewriter Animation */
    @keyframes typing {

        0%,
        100% {
            width: 0
        }

        45%,
        55% {
            width: 100%
        }
    }

    @keyframes blink-caret {

        from,
        to {
            border-color: transparent
        }

        50% {
            border-color: #1a73e8;
        }
    }

    .typewriter-container {
        display: inline-flex;
        justify-content: center;
        min-width: 0;
        width: 100%;
    }

    .typewriter-text {
        display: inline-block;
        overflow: hidden;
        border-right: .12em solid #1a73e8;
        white-space: nowrap;
        margin: 0;
        max-width: fit-content;
        animation:
            typing 4s steps(20, end) infinite,
            blink-caret .75s step-end infinite;
    }

    .is-flipped {
        transform: rotateY(180deg) !important;
    }

    .typewriter-content::before {
        content: "Graphic Design";
        animation: word-switch 12s infinite;
    }

    @keyframes word-switch {

        0%,
        33.33% {
            content: "Graphic Design";
            color: #1a73e8;
        }

        33.34%,
        66.66% {
            content: "Web Development";
            color: #ea4335;
        }

        66.67%,
        100% {
            content: "Customer Insights";
            color: #34a853;
        }
    }

    /* Hero Card Hover Effects */
    .hero-card {
        transition: transform 0.6s cubic-bezier(0.16, 1, 0.3, 1), box-shadow 0.6s cubic-bezier(0.16, 1, 0.3, 1), z-index 0s;
    }

    .hero-card:hover {
        transform: translateY(-20px) scale(1.05) rotate(0deg) !important;
        z-index: 50 !important;
        box-shadow: 0 40px 80px rgba(0, 0, 0, 0.12);
    }

    /* Flip Card Utilities */
    @layer utilities {
        .perspective-1000 {
            perspective: 1000px;
        }

        .preserve-3d {
            transform-style: preserve-3d;
        }

        .backface-hidden {
            backface-visibility: hidden;
        }

        .rotate-y-180 {
            transform: rotateY(180deg);
        }

        .flip-card-inner {
            transition: transform 0.6s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .group:hover .flip-card-inner {
            transform: rotateY(180deg);
        }
    }

    /* Scrollytelling Roadmap */
    .roadmap-progress-line {
        position: absolute;
        left: 1rem;
        top: 0;
        bottom: 0;
        width: 2px;
        background: #f1f3f4;
        z-index: 10;
        border-radius: 1px;
    }

    .roadmap-item-latent {
        opacity: 0.15;
        transform: translateY(20px);
        filter: grayscale(100%);
        transition: all 1.2s cubic-bezier(0.16, 1, 0.3, 1);
    }

    .roadmap-item-active {
        opacity: 1;
        transform: translateY(0);
        filter: grayscale(0%);
    }

    /* Target items specifically when in view via Framer/Tailwind */
    .roadmap-item-active,
    [data-active="true"] .roadmap-item-latent {
        opacity: 1;
        transform: translateY(0);
        filter: grayscale(0%);
    }

}